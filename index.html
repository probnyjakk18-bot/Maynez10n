<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D: –£–±–µ–≥–∏ –æ—Ç –°–æ—Å–µ–¥–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        
        body {
            background: #111;
            font-family: 'Arial', sans-serif;
            color: white;
        }
        
        #ui {
            position: fixed;
            top: 0;
            left: 0;
            padding: 20px;
            z-index: 1000;
            pointer-events: none;
            background: rgba(0, 0, 0, 0.7);
            border-bottom-right-radius: 10px;
        }
        
        #warning {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff0000;
            font-size: 40px;
            text-shadow: 0 0 10px black;
            display: none;
            z-index: 1001;
            font-weight: bold;
            animation: pulse 0.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        #gameOver {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1002;
            flex-direction: column;
        }
        
        #restartBtn {
            padding: 15px 30px;
            font-size: 20px;
            background: #ff0000;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
        }
        
        #minimap {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 200px;
            height: 200px;
            background: rgba(0, 20, 0, 0.7);
            border: 2px solid #0f0;
            z-index: 999;
        }
        
        #screamSound {
            display: none;
        }
    </style>
</head>
<body>
    <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <div id="ui">
        <h1 style="color: #ff0000; margin-bottom: 10px;">üö® 3D: –£–ë–ï–ì–ò –û–¢ –°–û–°–ï–î–ê</h1>
        <p><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong></p>
        <p>WASD - –î–≤–∏–∂–µ–Ω–∏–µ</p>
        <p>–ú—ã—à—å - –í—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã</p>
        <p>Shift - –ë–µ–≥</p>
        <p>–ü—Ä–æ–±–µ–ª - –ü—Ä—ã–∂–æ–∫</p>
        <p>R - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã</p>
        <div style="margin-top: 20px;">
            <p>–í—Ä–µ–º—è: <span id="time">0</span>—Å</p>
            <p>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Å–æ—Å–µ–¥–∞: <span id="distance">0</span>–º</p>
            <p>–°–∫–æ—Ä–æ—Å—Ç—å —Å–æ—Å–µ–¥–∞: <span id="speed">3</span></p>
        </div>
    </div>
    
    <!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ -->
    <div id="warning">–°–û–°–ï–î –ë–õ–ò–ó–ö–û!</div>
    
    <!-- –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã -->
    <div id="gameOver">
        <h1 style="color: #ff0000; font-size: 60px; margin-bottom: 20px;">–ü–û–ô–ú–ê–ù!</h1>
        <p style="font-size: 24px;">–°–æ—Å–µ–¥ –ø–æ–π–º–∞–ª –≤–∞—Å!</p>
        <p style="font-size: 20px; margin-top: 10px;">–í—ã –ø—Ä–æ–¥–µ—Ä–∂–∞–ª–∏—Å—å: <span id="finalTime">0</span> —Å–µ–∫—É–Ω–¥</p>
        <button id="restartBtn">–ò–ì–†–ê–¢–¨ –°–ù–û–í–ê</button>
    </div>
    
    <!-- –ú–∏–Ω–∏–∫–∞—Ä—Ç–∞ -->
    <canvas id="minimap" width="200" height="200"></canvas>
    
    <!-- –ê—É–¥–∏–æ -->
    <audio id="screamSound" preload="auto">
        <!-- –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ JavaScript -->
    </audio>
    
    <!-- Three.js –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script>
        // ==============================
        // –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
        // ==============================
        let scene, camera, renderer;
        let player, neighbor;
        let keys = {};
        let mouse = { x: 0, y: 0 };
        let isLocked = false;
        let gameTime = 0;
        let gameRunning = true;
        let neighborSpeed = 3;
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã UI
        const timeElement = document.getElementById('time');
        const distanceElement = document.getElementById('distance');
        const speedElement = document.getElementById('speed');
        const warningElement = document.getElementById('warning');
        const gameOverElement = document.getElementById('gameOver');
        const finalTimeElement = document.getElementById('finalTime');
        const restartBtn = document.getElementById('restartBtn');
        const minimapCanvas = document.getElementById('minimap');
        const minimapCtx = minimapCanvas.getContext('2d');
        
        // ==============================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        // ==============================
        function init() {
            // –°–æ–∑–¥–∞–µ–º —Å—Ü–µ–Ω—É
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x000000, 10, 50);
            
            // –°–æ–∑–¥–∞–µ–º –∫–∞–º–µ—Ä—É
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 2, 5);
            
            // –°–æ–∑–¥–∞–µ–º —Ä–µ–Ω–¥–µ—Ä–µ—Ä
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.body.appendChild(renderer.domElement);
            
            // –û—Å–≤–µ—â–µ–Ω–∏–µ
            const ambientLight = new THREE.AmbientLight(0x404040);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 20, 5);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            // –ü–æ–ª
            const floorGeometry = new THREE.PlaneGeometry(100, 100);
            const floorMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x222222,
                side: THREE.DoubleSide
            });
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            floor.receiveShadow = true;
            scene.add(floor);
            
            // –°—Ç–µ–Ω—ã (–ª–∞–±–∏—Ä–∏–Ω—Ç)
            createWalls();
            
            // –°–æ–∑–¥–∞–µ–º –∏–≥—Ä–æ–∫–∞ (–∫–∞–º–µ—Ä–∞ - —ç—Ç–æ –∏–≥—Ä–æ–∫)
            player = {
                mesh: createPlayerMesh(),
                velocity: new THREE.Vector3(0, 0, 0),
                speed: 5,
                runSpeed: 8,
                jumpForce: 10,
                onGround: true
            };
            scene.add(player.mesh);
            
            // –°–æ–∑–¥–∞–µ–º —Å–æ—Å–µ–¥–∞
            neighbor = {
                mesh: createNeighborMesh(),
                target: new THREE.Vector3(0, 0, 0)
            };
            scene.add(neighbor.mesh);
            
            // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–æ—Å–µ–¥–∞
            neighbor.mesh.position.set(20, 1, 20);
            
            // –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
            animate();
            
            // –ó–∞–ø—Ä–æ—Å –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —É–∫–∞–∑–∞—Ç–µ–ª—è (–ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Å –º—ã—à—å—é)
            renderer.domElement.requestPointerLock = renderer.domElement.requestPointerLock || 
                renderer.domElement.mozRequestPointerLock;
            renderer.domElement.addEventListener('click', () => {
                renderer.domElement.requestPointerLock();
            });
        }
        
        // ==============================
        // –°–û–ó–î–ê–ù–ò–ï –û–ë–™–ï–ö–¢–û–í
        // ==============================
        function createPlayerMesh() {
            const geometry = new THREE.CylinderGeometry(0.5, 0.5, 2, 8);
            const material = new THREE.MeshPhongMaterial({ color: 0x00ff00 });
            const mesh = new THREE.Mesh(geometry, material);
            mesh.castShadow = true;
            mesh.position.y = 1;
            return mesh;
        }
        
        function createNeighborMesh() {
            const group = new THREE.Group();
            
            // –¢–µ–ª–æ
            const bodyGeometry = new THREE.CylinderGeometry(0.7, 0.7, 2.5, 8);
            const bodyMaterial = new THREE.MeshPhongMaterial({ color: 0xff0000 });
            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
            body.castShadow = true;
            body.position.y = 1.25;
            group.add(body);
            
            // –ì–æ–ª–æ–≤–∞
            const headGeometry = new THREE.SphereGeometry(0.6, 8, 8);
            const headMaterial = new THREE.MeshPhongMaterial({ color: 0xff4444 });
            const head = new THREE.Mesh(headGeometry, headMaterial);
            head.position.y = 2.5;
            group.add(head);
            
            // –ì–ª–∞–∑–∞
            const eyeGeometry = new THREE.SphereGeometry(0.1, 4, 4);
            const eyeMaterial = new THREE.MeshPhongMaterial({ color: 0xffff00 });
            
            const leftEye = new THREE.Mesh(eyeGeometry, eyeMaterial);
            leftEye.position.set(-0.2, 2.6, 0.5);
            group.add(leftEye);
            
            const rightEye = new THREE.Mesh(eyeGeometry, eyeMaterial);
            rightEye.position.set(0.2, 2.6, 0.5);
            group.add(rightEye);
            
            group.position.y = 0;
            group.castShadow = true;
            
            return group;
        }
        
        function createWalls() {
            const wallMaterial = new THREE.MeshPhongMaterial({ color: 0x444444 });
            
            // –°–ª—É—á–∞–π–Ω—ã–µ —Å—Ç–µ–Ω—ã –¥–ª—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
            const wallPositions = [
                [10, 0, 0], [-10, 0, 0], [0, 0, 10], [0, 0, -10],
                [15, 0, 15], [-15, 0, 15], [15, 0, -15], [-15, 0, -15],
                [5, 0, 20], [-5, 0, 20], [20, 0, 5], [20, 0, -5]
            ];
            
            wallPositions.forEach(pos => {
                const wallGeometry = new THREE.BoxGeometry(2, 3, 10);
                const wall = new THREE.Mesh(wallGeometry, wallMaterial);
                wall.position.set(pos[0], 1.5, pos[2]);
                wall.castShadow = true;
                wall.receiveShadow = true;
                scene.add(wall);
            });
        }
        
        // ==============================
        // –£–ü–†–ê–í–õ–ï–ù–ò–ï
        // ==============================
        function setupEventListeners() {
            // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
            document.addEventListener('keydown', (e) => {
                keys[e.key.toLowerCase()] = true;
                
                if (e.key === 'r' || e.key === 'R') {
                    restartGame();
                }
            });
            
            document.addEventListener('keyup', (e) => {
                keys[e.key.toLowerCase()] = false;
            });
            
            // –ú—ã—à—å
            document.addEventListener('mousemove', onMouseMove);
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è
            document.addEventListener('pointerlockchange', onPointerLockChange);
            
            // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
            window.addEventListener('resize', onWindowResize);
            
            // –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
            restartBtn.addEventListener('click', restartGame);
            
            // –°–æ–∑–¥–∞–µ–º –∑–≤—É–∫ —Å–∫—Ä–∏–º–µ—Ä–∞
            createScreamSound();
        }
        
        function onMouseMove(event) {
            if (!isLocked) return;
            
            mouse.x = event.movementX || 0;
            mouse.y = event.movementY || 0;
        }
        
        function onPointerLockChange() {
            isLocked = document.pointerLockElement === renderer.domElement;
        }
        
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        // ==============================
        // –ò–ì–†–û–í–ê–Ø –õ–û–ì–ò–ö–ê
        // ==============================
        function updatePlayer(deltaTime) {
            if (!isLocked || !gameRunning) return;
            
            const speed = keys['shift'] ? player.runSpeed : player.speed;
            const moveSpeed = speed * deltaTime;
            
            // –í—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã —Å –ø–æ–º–æ—â—å—é –º—ã—à–∏
            camera.rotation.y -= mouse.x * 0.002;
            camera.rotation.x -= mouse.y * 0.002;
            camera.rotation.x = Math.max(-Math.PI/2, Math.min(Math.PI/2, camera.rotation.x));
            
            // –î–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥
            if (keys['w']) {
                player.velocity.z = -Math.cos(camera.rotation.y) * moveSpeed;
                player.velocity.x = -Math.sin(camera.rotation.y) * moveSpeed;
            } else if (keys['s']) {
                player.velocity.z = Math.cos(camera.rotation.y) * moveSpeed;
                player.velocity.x = Math.sin(camera.rotation.y) * moveSpeed;
            } else {
                player.velocity.x = 0;
                player.velocity.z = 0;
            }
            
            // –î–≤–∏–∂–µ–Ω–∏–µ –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ
            if (keys['a']) {
                player.velocity.x += Math.cos(camera.rotation.y) * moveSpeed;
                player.velocity.z += -Math.sin(camera.rotation.y) * moveSpeed;
            } else if (keys['d']) {
                player.velocity.x += -Math.cos(camera.rotation.y) * moveSpeed;
                player.velocity.z += Math.sin(camera.rotation.y) * moveSpeed;
            }
            
            // –ü—Ä—ã–∂–æ–∫
            if (keys[' '] && player.onGround) {
                player.velocity.y = player.jumpForce;
                player.onGround = false;
            }
            
            // –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
            player.velocity.y -= 20 * deltaTime;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é
            camera.position.x += player.velocity.x;
            camera.position.z += player.velocity.z;
            camera.position.y += player.velocity.y;
            
            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—ã—Å–æ—Ç–µ (–ø–æ–ª)
            if (camera.position.y < 2) {
                camera.position.y = 2;
                player.velocity.y = 0;
                player.onGround = true;
            }
            
            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–π –∑–æ–Ω—ã
            camera.position.x = THREE.MathUtils.clamp(camera.position.x, -45, 45);
            camera.position.z = THREE.MathUtils.clamp(camera.position.z, -45, 45);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –º–µ—à–∞ –∏–≥—Ä–æ–∫–∞
            player.mesh.position.copy(camera.position);
            player.mesh.position.y = 1;
            player.mesh.rotation.y = camera.rotation.y;
        }
        
        function updateNeighbor(deltaTime) {
            if (!gameRunning) return;
            
            // –°–æ—Å–µ–¥ –ø—Ä–µ—Å–ª–µ–¥—É–µ—Ç –∏–≥—Ä–æ–∫–∞
            neighbor.target.copy(camera.position);
            neighbor.target.y = 1;
            
            const direction = new THREE.Vector3();
            direction.subVectors(neighbor.target, neighbor.mesh.position).normalize();
            
            neighbor.mesh.position.x += direction.x * neighborSpeed * deltaTime;
            neighbor.mesh.position.z += direction.z * neighborSpeed * deltaTime;
            
            // –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Å–æ—Å–µ–¥–∞ –∫ –∏–≥—Ä–æ–∫—É
            neighbor.mesh.lookAt(camera.position);
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
            neighborSpeed += 0.01 * deltaTime;
            speedElement.textContent = neighborSpeed.toFixed(2);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Å–æ—Å–µ–¥–∞
            const distance = camera.position.distanceTo(neighbor.mesh.position);
            distanceElement.textContent = distance.toFixed(1);
            
            // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ —Å–æ—Å–µ–¥ –±–ª–∏–∑–∫–æ
            if (distance < 10) {
                warningElement.style.display = 'block';
                warningElement.style.color = distance < 5 ? '#ff0000' : '#ff9900';
            } else {
                warningElement.style.display = 'none';
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
            if (distance < 2) {
                gameOver();
            }
        }
        
        function updateGameTime(deltaTime) {
            if (gameRunning) {
                gameTime += deltaTime;
                timeElement.textContent = gameTime.toFixed(1);
            }
        }
        
        function updateMinimap() {
            minimapCtx.clearRect(0, 0, 200, 200);
            
            // –§–æ–Ω –º–∏–Ω–∏–∫–∞—Ä—Ç—ã
            minimapCtx.fillStyle = 'rgba(0, 30, 0, 0.8)';
            minimapCtx.fillRect(0, 0, 200, 200);
            
            // –ì—Ä–∞–Ω–∏—Ü—ã
            minimapCtx.strokeStyle = '#0f0';
            minimapCtx.lineWidth = 2;
            minimapCtx.strokeRect(0, 0, 200, 200);
            
            // –¶–µ–Ω—Ç—Ä –∫–∞—Ä—Ç—ã
            const centerX = 100;
            const centerY = 100;
            const scale = 2;
            
            // –ò–≥—Ä–æ–∫
            const playerX = centerX + camera.position.x * scale;
            const playerY = centerY + camera.position.z * scale;
            
            minimapCtx.fillStyle = '#0f0';
            minimapCtx.beginPath();
            minimapCtx.arc(playerX, playerY, 4, 0, Math.PI * 2);
            minimapCtx.fill();
            
            // –°–æ—Å–µ–¥
            const neighborX = centerX + neighbor.mesh.position.x * scale;
            const neighborY = centerY + neighbor.mesh.position.z * scale;
            
            minimapCtx.fillStyle = '#f00';
            minimapCtx.beginPath();
            minimapCtx.arc(neighborX, neighborY, 6, 0, Math.PI * 2);
            minimapCtx.fill();
        }
        
        // ==============================
        // –ö–û–ù–ï–¶ –ò–ì–†–´
        // ==============================
        function gameOver() {
            gameRunning = false;
            
            // –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∑–≤—É–∫
            document.getElementById('screamSound').play();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –ø—Ä–æ–∏–≥—Ä—ã—à–∞
            finalTimeElement.textContent = gameTime.toFixed(1);
            gameOverElement.style.display = 'flex';
            
            // –≠—Ñ—Ñ–µ–∫—Ç —Ç—Ä—è—Å–∫–∏
            camera.rotation.z = 0.1;
            setTimeout(() => camera.rotation.z = -0.1, 100);
            setTimeout(() => camera.rotation.z = 0, 200);
        }
        
        function restartGame() {
            gameRunning = true;
            gameTime = 0;
            neighborSpeed = 3;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏–∏
            camera.position.set(0, 2, 5);
            camera.rotation.set(0, 0, 0);
            neighbor.mesh.position.set(20, 1, 20);
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º UI
            gameOverElement.style.display = 'none';
            warningElement.style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            timeElement.textContent = "0";
            distanceElement.textContent = "0";
            speedElement.textContent = "3";
        }
        
        // ==============================
        // –ó–í–£–ö
        // ==============================
        function createScreamSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(100, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(1000, audioContext.currentTime + 0.5);
                
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1.5);
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
                document.getElementById('screamSound').play = function() {
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 1.5);
                };
            } catch (e) {
                console.log("–ê—É–¥–∏–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
            }
        }
        
        // ==============================
        // –ê–ù–ò–ú–ê–¶–ò–Ø
        // ==============================
        let clock = new THREE.Clock();
        
        function animate() {
            requestAnimationFrame(animate);
            
            const deltaTime = clock.getDelta();
            
            if (gameRunning) {
                updatePlayer(deltaTime);
                updateNeighbor(deltaTime);
                updateGameTime(deltaTime);
                updateMinimap();
            }
            
            renderer.render(scene, camera);
        }
        
        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        init();
    </script>
</body>
</html>
